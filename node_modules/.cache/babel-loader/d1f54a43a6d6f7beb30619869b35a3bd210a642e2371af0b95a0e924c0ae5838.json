{"ast":null,"code":"import _defineProperty from\"D:/Work/VB/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{configureStore,combineReducers}from'@reduxjs/toolkit';import cartReducer from'./cartRedux';import userReducer from'./userRedux';import wishlistReducer from'./wishlistRedux';import{persistStore,persistReducer,FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER}from'redux-persist';import storage from'redux-persist/lib/storage';import{apiSlice}from'./apiSlice';var persistConfig={key:'root',version:1,storage:storage};var appReducer=combineReducers(_defineProperty({user:userReducer,cart:cartReducer,wishlist:wishlistReducer},apiSlice.reducerPath,apiSlice.reducer));var rootReducer=function rootReducer(state,action){if(action.type==='user/logoutSuccess'){storage.removeItem('persist:root');storage.removeItem('i18nextLng');return appReducer(undefined,action);};return appReducer(state,action);};var persistedReducer=persistReducer(persistConfig,rootReducer);export var store=configureStore({reducer:persistedReducer,middleware:function middleware(getDefaultMiddleware){return getDefaultMiddleware({serializableCheck:{ignoredActions:[FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER]}}).concat(apiSlice.middleware);}});export var persistor=persistStore(store);","map":{"version":3,"names":["configureStore","combineReducers","cartReducer","userReducer","wishlistReducer","persistStore","persistReducer","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","storage","apiSlice","persistConfig","key","version","appReducer","user","cart","wishlist","reducerPath","reducer","rootReducer","state","action","type","removeItem","undefined","persistedReducer","store","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","concat","persistor"],"sources":["D:/Work/VB/client/src/redux/store.js"],"sourcesContent":["import { configureStore, combineReducers } from '@reduxjs/toolkit';\r\nimport cartReducer from './cartRedux';\r\nimport userReducer from './userRedux';\r\nimport wishlistReducer from './wishlistRedux';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { apiSlice } from './apiSlice';\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  version: 1,\r\n  storage,\r\n};\r\n\r\nconst appReducer = combineReducers({ \r\n  user: userReducer, \r\n  cart: cartReducer, \r\n  wishlist: wishlistReducer,\r\n  [apiSlice.reducerPath]: apiSlice.reducer\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === 'user/logoutSuccess') {\r\n    storage.removeItem('persist:root');\r\n    storage.removeItem('i18nextLng')\r\n    return appReducer(undefined, action)\r\n  };\r\n\r\n  return appReducer(state, action);\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\nexport const store = configureStore({\r\n    reducer: persistedReducer,\r\n    middleware: (getDefaultMiddleware) =>\r\n        getDefaultMiddleware({\r\n            serializableCheck: {\r\n                ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n            },\r\n        }).concat(apiSlice.middleware),\r\n});\r\n\r\nexport let persistor = persistStore(store);"],"mappings":"yGAAA,OAASA,cAAc,CAAEC,eAAe,KAAQ,kBAAkB,CAClE,MAAOC,YAAW,KAAM,aAAa,CACrC,MAAOC,YAAW,KAAM,aAAa,CACrC,MAAOC,gBAAe,KAAM,iBAAiB,CAC7C,OACEC,YAAY,CACZC,cAAc,CACdC,KAAK,CACLC,SAAS,CACTC,KAAK,CACLC,OAAO,CACPC,KAAK,CACLC,QAAQ,KACH,eAAe,CACtB,MAAOC,QAAO,KAAM,2BAA2B,CAC/C,OAASC,QAAQ,KAAQ,YAAY,CAErC,GAAMC,cAAa,CAAG,CACpBC,GAAG,CAAE,MAAM,CACXC,OAAO,CAAE,CAAC,CACVJ,OAAO,CAAPA,OACF,CAAC,CAED,GAAMK,WAAU,CAAGjB,eAAe,kBAChCkB,IAAI,CAAEhB,WAAW,CACjBiB,IAAI,CAAElB,WAAW,CACjBmB,QAAQ,CAAEjB,eAAe,EACxBU,QAAQ,CAACQ,WAAW,CAAGR,QAAQ,CAACS,OAAO,EACxC,CAEF,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACrC,GAAIA,MAAM,CAACC,IAAI,GAAK,oBAAoB,CAAE,CACxCd,OAAO,CAACe,UAAU,CAAC,cAAc,CAAC,CAClCf,OAAO,CAACe,UAAU,CAAC,YAAY,CAAC,CAChC,MAAOV,WAAU,CAACW,SAAS,CAAEH,MAAM,CAAC,CACtC,CAAC,CAED,MAAOR,WAAU,CAACO,KAAK,CAAEC,MAAM,CAAC,CAClC,CAAC,CAED,GAAMI,iBAAgB,CAAGxB,cAAc,CAACS,aAAa,CAAES,WAAW,CAAC,CAEnE,MAAO,IAAMO,MAAK,CAAG/B,cAAc,CAAC,CAChCuB,OAAO,CAAEO,gBAAgB,CACzBE,UAAU,CAAE,oBAACC,oBAAoB,QAC7BA,qBAAoB,CAAC,CACjBC,iBAAiB,CAAE,CACfC,cAAc,CAAE,CAAC5B,KAAK,CAAEC,SAAS,CAAEC,KAAK,CAAEC,OAAO,CAAEC,KAAK,CAAEC,QAAQ,CACtE,CACJ,CAAC,CAAC,CAACwB,MAAM,CAACtB,QAAQ,CAACkB,UAAU,CAAC,EACtC,CAAC,CAAC,CAEF,MAAO,IAAIK,UAAS,CAAGhC,YAAY,CAAC0B,KAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}