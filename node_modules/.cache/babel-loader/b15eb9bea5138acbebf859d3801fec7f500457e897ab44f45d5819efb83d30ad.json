{"ast":null,"code":"import _objectSpread from\"D:/Work/VB/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Work/VB/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"D:/Work/VB/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import styled from'styled-components';import ShoppingCartOutlinedIcon from'@mui/icons-material/ShoppingCartOutlined';import SearchOutlinedIcon from'@mui/icons-material/SearchOutlined';import FavoriteBorderOutlinedIcon from'@mui/icons-material/FavoriteBorderOutlined';import FavoriteIcon from'@mui/icons-material/Favorite';import DoNotDisturbOutlinedIcon from'@mui/icons-material/DoNotDisturbOutlined';import{addProduct,deleteProduct}from'../redux/wishlistRedux';import{useDispatch,useSelector}from'react-redux';import{useTranslation}from'react-i18next';import{memo}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Info=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  opacity: 0;\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  background-color: rgba(0,0,0,0.2);\\n  z-index: 3;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.5s ease;\\n  cursor: pointer;\\n\"])));var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  margin: 5px;\\n  min-width: 280px;\\n  height: 350px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: #f5fbfd;\\n  position: relative;\\n\\n  &:hover \",\"{\\n    opacity: 1;\\n  }\\n\"])),Info);var Circle=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 330px;\\n  height: 330px;\\n  border-radius: 50%;\\n  background-color: white;\\n  position: absolute;\\n\"])));var Image=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  height: 75%;\\n  width: 75%;\\n  object-fit: cover;\\n  z-index: 2;\\n\"])));var Icon=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  background-color: white;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 10px;\\n  transition: all 0.5s ease;\\n  &:hover{\\n    background-color: #e9f5f5;\\n    transform: scale(1.1);\\n  }\\n\"])));var Title=styled.h3(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: -10px;\\n  z-index: 3;\\n\"])));var Product=function Product(_ref){var item=_ref.item;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFavorite=_useState2[0],setIsFavorite=_useState2[1];var dispatch=useDispatch();var wishlist=useSelector(function(state){return state.wishlist;});var _useTranslation=useTranslation([\"product\"]),t=_useTranslation.t;useEffect(function(){for(var i=0;i<wishlist.products.length;i++){if(wishlist.products[i]._id===item._id){setIsFavorite(true);}}},[item,wishlist]);var handleClick=function handleClick(){setIsFavorite(!isFavorite);!isFavorite?dispatch(addProduct(_objectSpread({},item))):dispatch(deleteProduct(_objectSpread({},item)));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Title,{children:[t(item.title),\" - \",item.price,\" \",t(\"currency\").toLowerCase(),\"/\",t(\"kg\")]}),/*#__PURE__*/_jsx(Circle,{}),/*#__PURE__*/_jsx(Image,{src:item.img}),/*#__PURE__*/_jsxs(Info,{children:[item.inStock&&/*#__PURE__*/_jsx(Icon,{children:/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(ShoppingCartOutlinedIcon,{})})}),/*#__PURE__*/_jsx(Icon,{children:item.inStock?/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item._id),children:/*#__PURE__*/_jsx(SearchOutlinedIcon,{})}):/*#__PURE__*/_jsx(DoNotDisturbOutlinedIcon,{style:{color:\"red\"}})}),/*#__PURE__*/_jsx(Icon,{children:!isFavorite?/*#__PURE__*/_jsx(FavoriteBorderOutlinedIcon,{onClick:function onClick(){return handleClick();}}):/*#__PURE__*/_jsx(FavoriteIcon,{style:{color:\"red\"},onClick:function onClick(){return handleClick();}})})]})]});};export default/*#__PURE__*/memo(Product);","map":{"version":3,"names":["React","useState","useEffect","Link","styled","ShoppingCartOutlinedIcon","SearchOutlinedIcon","FavoriteBorderOutlinedIcon","FavoriteIcon","DoNotDisturbOutlinedIcon","addProduct","deleteProduct","useDispatch","useSelector","useTranslation","memo","Info","div","Container","Circle","Image","img","Icon","Title","h3","Product","item","isFavorite","setIsFavorite","dispatch","wishlist","state","t","i","products","length","_id","handleClick","title","price","toLowerCase","inStock","color"],"sources":["D:/Work/VB/client/src/components/Product.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport ShoppingCartOutlinedIcon from '@mui/icons-material/ShoppingCartOutlined';\r\nimport SearchOutlinedIcon from '@mui/icons-material/SearchOutlined';\r\nimport FavoriteBorderOutlinedIcon from '@mui/icons-material/FavoriteBorderOutlined';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport DoNotDisturbOutlinedIcon from '@mui/icons-material/DoNotDisturbOutlined';\r\nimport { addProduct, deleteProduct } from '../redux/wishlistRedux';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { memo } from 'react';\r\n\r\n\r\nconst Info = styled.div`\r\n  opacity: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background-color: rgba(0,0,0,0.2);\r\n  z-index: 3;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.5s ease;\r\n  cursor: pointer;\r\n`\r\n\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  margin: 5px;\r\n  min-width: 280px;\r\n  height: 350px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #f5fbfd;\r\n  position: relative;\r\n\r\n  &:hover ${Info}{\r\n    opacity: 1;\r\n  }\r\n`\r\n\r\nconst Circle = styled.div`\r\n  width: 330px;\r\n  height: 330px;\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  position: absolute;\r\n`\r\n\r\nconst Image = styled.img`\r\n  height: 75%;\r\n  width: 75%;\r\n  object-fit: cover;\r\n  z-index: 2;\r\n`\r\n\r\nconst Icon = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  transition: all 0.5s ease;\r\n  &:hover{\r\n    background-color: #e9f5f5;\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  position: absolute;\r\n  top: -10px;\r\n  z-index: 3;\r\n`;\r\n\r\n\r\nconst Product = ({item}) => {\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const wishlist = useSelector(state => state.wishlist);\r\n  const { t } = useTranslation([\"product\"])\r\n\r\n  useEffect(() => {\r\n    for (let i=0; i < wishlist.products.length; i++) {\r\n      if (wishlist.products[i]._id === item._id) {\r\n        setIsFavorite(true);\r\n      }\r\n    }\r\n\r\n  }, [item, wishlist]);\r\n\r\n  const handleClick = () => {\r\n      setIsFavorite(!isFavorite)\r\n      !isFavorite\r\n        ? dispatch(addProduct({ ...item }))\r\n        : dispatch(deleteProduct({ ...item }))\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Title>{t(item.title)} - {item.price} {t(\"currency\").toLowerCase()}/{t(\"kg\")}</Title>\r\n      <Circle />\r\n      <Image src={item.img}/>\r\n      <Info>\r\n        {item.inStock && <Icon>\r\n                          <Link to=\"/cart\">\r\n                            <ShoppingCartOutlinedIcon />\r\n                          </Link>\r\n                        </Icon>}\r\n        <Icon>\r\n          {item.inStock \r\n            ? <Link to={`/product/${item._id}`}>\r\n                <SearchOutlinedIcon />\r\n              </Link>\r\n            : <DoNotDisturbOutlinedIcon style={{ color: \"red\" }}/>}\r\n        </Icon>\r\n        <Icon>\r\n          {!isFavorite \r\n            ? <FavoriteBorderOutlinedIcon onClick={() => handleClick()} />\r\n            : <FavoriteIcon style={{ color: \"red\" }} onClick={() => handleClick()}/>}\r\n        </Icon>\r\n      </Info>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default memo(Product);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}