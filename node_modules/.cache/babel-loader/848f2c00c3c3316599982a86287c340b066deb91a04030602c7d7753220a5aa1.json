{"ast":null,"code":"import axios from \"axios\";\nimport { publicRequest, userRequest } from \"../requestMethods\";\nimport { clearCart } from \"./cartRedux\";\nimport { loginFailure, loginStart, loginSuccess, logoutStart, logoutSuccess, logoutFailure } from \"./userRedux\";\nimport { clearWishlist } from \"./wishlistRedux\";\nexport const refreshToken = async () => {\n  try {\n    const res = await axios.post(\"/refresh_token\", {\n      token: user.refreshToken\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const login = async (dispatch, user) => {\n  dispatch(loginStart());\n  try {\n    const res = await publicRequest.post(\"/auth/login\", user);\n    dispatch(loginSuccess(res.data));\n  } catch (err) {\n    dispatch(loginFailure());\n  }\n};\nexport const logout = async (dispatch, user) => {\n  dispatch(logoutStart());\n  try {\n    const res = await userRequest.post(\"/auth/logout_post\", user);\n    dispatch(logoutSuccess(res));\n    dispatch(clearCart());\n    dispatch(clearWishlist());\n  } catch (err) {\n    console.log(err);\n    dispatch(logoutFailure());\n  }\n};","map":{"version":3,"names":["axios","publicRequest","userRequest","clearCart","loginFailure","loginStart","loginSuccess","logoutStart","logoutSuccess","logoutFailure","clearWishlist","refreshToken","res","post","token","user","err","console","log","login","dispatch","data","logout"],"sources":["D:/Work/vinogradnik/client/src/redux/apiCalls.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { publicRequest, userRequest } from \"../requestMethods\";\r\nimport { clearCart } from \"./cartRedux\";\r\nimport { \r\n    loginFailure, \r\n    loginStart, \r\n    loginSuccess, \r\n    logoutStart, \r\n    logoutSuccess, \r\n    logoutFailure \r\n} from \"./userRedux\"\r\nimport { clearWishlist } from \"./wishlistRedux\";\r\n\r\nexport const refreshToken = async () => {\r\n    try {\r\n        const res = await axios.post(\"/refresh_token\", { token: user.refreshToken });\r\n    } catch(err) {\r\n        console.log(err)\r\n    }\r\n};\r\n\r\nexport const login = async (dispatch, user) => {\r\n    dispatch(loginStart());\r\n    try {\r\n        const res = await publicRequest.post(\"/auth/login\", user)\r\n        dispatch(loginSuccess(res.data))\r\n    } catch(err) {\r\n        dispatch(loginFailure());\r\n    }\r\n};\r\n\r\nexport const logout = async (dispatch, user) => {\r\n    dispatch(logoutStart());\r\n    try {\r\n        const res = await userRequest.post(\"/auth/logout_post\", user);\r\n        dispatch(logoutSuccess(res));\r\n        dispatch(clearCart());\r\n        dispatch(clearWishlist());\r\n    } catch(err) {\r\n        console.log(err);\r\n        dispatch(logoutFailure());\r\n    }\r\n};\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,WAAW,QAAQ,mBAAmB;AAC9D,SAASC,SAAS,QAAQ,aAAa;AACvC,SACIC,YAAY,EACZC,UAAU,EACVC,YAAY,EACZC,WAAW,EACXC,aAAa,EACbC,aAAa,QACV,aAAa;AACpB,SAASC,aAAa,QAAQ,iBAAiB;AAE/C,OAAO,MAAMC,YAAY,GAAG,YAAY;EACpC,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,gBAAgB,EAAE;MAAEC,KAAK,EAAEC,IAAI,CAACJ;IAAa,CAAC,CAAC;EAChF,CAAC,CAAC,OAAMK,GAAG,EAAE;IACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AACJ,CAAC;AAED,OAAO,MAAMG,KAAK,GAAG,OAAOC,QAAQ,EAAEL,IAAI,KAAK;EAC3CK,QAAQ,CAACf,UAAU,EAAE,CAAC;EACtB,IAAI;IACA,MAAMO,GAAG,GAAG,MAAMX,aAAa,CAACY,IAAI,CAAC,aAAa,EAAEE,IAAI,CAAC;IACzDK,QAAQ,CAACd,YAAY,CAACM,GAAG,CAACS,IAAI,CAAC,CAAC;EACpC,CAAC,CAAC,OAAML,GAAG,EAAE;IACTI,QAAQ,CAAChB,YAAY,EAAE,CAAC;EAC5B;AACJ,CAAC;AAED,OAAO,MAAMkB,MAAM,GAAG,OAAOF,QAAQ,EAAEL,IAAI,KAAK;EAC5CK,QAAQ,CAACb,WAAW,EAAE,CAAC;EACvB,IAAI;IACA,MAAMK,GAAG,GAAG,MAAMV,WAAW,CAACW,IAAI,CAAC,mBAAmB,EAAEE,IAAI,CAAC;IAC7DK,QAAQ,CAACZ,aAAa,CAACI,GAAG,CAAC,CAAC;IAC5BQ,QAAQ,CAACjB,SAAS,EAAE,CAAC;IACrBiB,QAAQ,CAACV,aAAa,EAAE,CAAC;EAC7B,CAAC,CAAC,OAAMM,GAAG,EAAE;IACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBI,QAAQ,CAACX,aAAa,EAAE,CAAC;EAC7B;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}