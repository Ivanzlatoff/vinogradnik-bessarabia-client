{"ast":null,"code":"import _regeneratorRuntime from\"D:/Work/vinogradnik/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Work/vinogradnik/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Work/vinogradnik/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"D:/Work/vinogradnik/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import{useState}from'react';import validator from\"validator\";import SendIcon from'@mui/icons-material/Send';import styled from'styled-components';import{mobile,mobileLarge,tablet,tabletSmall}from'../responsive';import{publicRequest}from'../requestMethods';import{toast}from'react-hot-toast';import{useTranslation}from\"react-i18next\";import{memo}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 30vh;\\n  background-color: #fcf5f5;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  \",\"\\n\"])),mobile({padding:'20px',height:'40vh'}));var Title=styled.h1(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-size: 70px;\\n  margin-bottom: 20px;\\n  \",\";\\n  \",\"\\n  \",\"\\n\"])),tablet({fontSize:'60px'}),tabletSmall({fontSize:'36px'}),mobile({fontSize:'32px',marginBottom:'10px'}));var Description=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 24px;\\n  font-weight: 300;\\n  margin-bottom: 20px;\\n  text-align: center;\\n  \",\"\\n\"])),mobile({marginBottom:'10px',fontSize:'24px'}));var InputContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  height: 50px;\\n  background-color: white;\\n  display: flex;\\n  justify-content: space-between;\\n  border: 1px solid lightgray;\\n  \",\"\\n\"])),mobileLarge({width:\"80%\",height:'40px'}));var Input=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  border: none;\\n  flex: 8;\\n  padding-left: 20px;\\n\"])));var Button=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  border: none;\\n  background-color: teal;\\n  color: white\\n\"])));var Newsletter=function Newsletter(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),emailAddress=_useState4[0],setEmailAddress=_useState4[1];var _useTranslation=useTranslation([\"newsletter\"]),t=_useTranslation.t;var validateEmail=function validateEmail(e){var email=e.target.value;if(validator.isEmail(email)){setMessage(\"Email looks good!\");setEmailAddress(email);}else{setMessage(\"Please, enter valid Email!\");}};var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(emailAddress){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;_context.next=5;return publicRequest.post(\"/newsletter\",{email:emailAddress});case 5:toast.success(\"\".concat(emailAddress,\" successfully added to our newsletter, thank you!\"));setEmailAddress('');_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:t(\"newsletter\")}),/*#__PURE__*/_jsx(Description,{className:\"desc\",children:t(\"desc\")}),/*#__PURE__*/_jsxs(InputContainer,{children:[/*#__PURE__*/_jsx(Input,{placeholder:t(\"email_placeholder\"),name:\"email\",onChange:function onChange(e){return validateEmail(e);},value:emailAddress}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleClick();},children:/*#__PURE__*/_jsx(SendIcon,{})})]}),/*#__PURE__*/_jsx(\"h4\",{children:message})]});};export default/*#__PURE__*/memo(Newsletter);","map":{"version":3,"names":["useState","validator","SendIcon","styled","mobile","mobileLarge","tablet","tabletSmall","publicRequest","toast","useTranslation","memo","Container","div","padding","height","Title","h1","fontSize","marginBottom","Description","InputContainer","width","Input","input","Button","button","Newsletter","message","setMessage","emailAddress","setEmailAddress","t","validateEmail","e","email","target","value","isEmail","handleClick","post","success","console","log"],"sources":["D:/Work/vinogradnik/client/src/components/Newsletter.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport validator from \"validator\";\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport styled from 'styled-components';\r\nimport { mobile, mobileLarge, tablet, tabletSmall } from '../responsive';\r\nimport { publicRequest } from '../requestMethods';\r\nimport { toast } from 'react-hot-toast';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { memo } from 'react';\r\n\r\n\r\nconst Container = styled.div`\r\n  height: 30vh;\r\n  background-color: #fcf5f5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  ${mobile({\r\n    padding: '20px',\r\n    height: '40vh'\r\n  })}\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 70px;\r\n  margin-bottom: 20px;\r\n  ${tablet({\r\n    fontSize: '60px'\r\n  })};\r\n  ${tabletSmall({\r\n    fontSize: '36px'\r\n  })}\r\n  ${mobile({\r\n    fontSize: '32px',\r\n    marginBottom: '10px'\r\n  })}\r\n`;\r\n\r\nconst Description = styled.div`\r\n  font-size: 24px;\r\n  font-weight: 300;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n  ${mobile({ \r\n    marginBottom: '10px',\r\n    fontSize: '24px',\r\n  })}\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  width: 50%;\r\n  height: 50px;\r\n  background-color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border: 1px solid lightgray;\r\n  ${mobileLarge({ \r\n    width: \"80%\",\r\n    height: '40px'\r\n  })}\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border: none;\r\n  flex: 8;\r\n  padding-left: 20px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  flex: 1;\r\n  border: none;\r\n  background-color: teal;\r\n  color: white\r\n`;\r\n\r\nconst Newsletter = () => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [emailAddress, setEmailAddress] = useState(\"\");\r\n  const { t } = useTranslation([\"newsletter\"])\r\n\r\n  const validateEmail = (e) => {\r\n    const email = e.target.value;\r\n\r\n    if (validator.isEmail(email)) {\r\n      setMessage(\"Email looks good!\");\r\n      setEmailAddress(email)\r\n    } else {\r\n      setMessage(\"Please, enter valid Email!\");\r\n    }\r\n  };\r\n\r\n  const handleClick = async () => {\r\n    if (!emailAddress) return;\r\n    try {\r\n        await publicRequest.post(\"/newsletter\", {email: emailAddress})\r\n        toast.success(`${emailAddress} successfully added to our newsletter, thank you!`);\r\n        setEmailAddress('');\r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  return (\r\n    <Container>\r\n      <Title>{t(\"newsletter\")}</Title>\r\n      <Description className='desc'>{t(\"desc\")}</Description>\r\n      <InputContainer>\r\n        <Input \r\n          placeholder={t(\"email_placeholder\")}\r\n          name='email'\r\n          onChange={(e) => validateEmail(e)}\r\n          value={emailAddress}\r\n        />\r\n        <Button onClick={() => handleClick()}>\r\n            <SendIcon />\r\n        </Button>\r\n      </InputContainer>\r\n      <h4>\r\n        {message}\r\n      </h4>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default memo(Newsletter);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}