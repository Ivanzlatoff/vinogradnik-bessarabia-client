{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst wishlistSlice = createSlice({\n  name: 'wishlist',\n  initialState: {\n    products: [],\n    quantity: 0\n  },\n  reducers: {\n    addProduct: (state, action) => {\n      var _state$products;\n\n      if (((_state$products = state.products) === null || _state$products === void 0 ? void 0 : _state$products.length) > 0) {\n        for (let i = 0; i < state.products.length; i++) {\n          if (state.products[i]['_id'] === action.payload._id) {\n            state.products[i].quantity += action.payload.quantity;\n            return;\n          }\n        }\n\n        state.quantity += 1;\n        state.products.push(action.payload);\n      } else {\n        state.quantity += 1;\n        state.products.push(action.payload);\n      }\n    },\n    deleteProduct: (state, action) => {\n      if (state.products.length > 0) {\n        for (let i = 0; i < state.products.length; i++) {\n          if (state.products[i]['_id'] === action.payload._id) {\n            state.products.splice(i, 1);\n            state.quantity -= 1;\n            return;\n          }\n        }\n      }\n    },\n    clearWishlist: state => {\n      state.products = [];\n      state.quantity = 0;\n      state.totalPrice = 0;\n    }\n  }\n});\nexport const {\n  addProduct,\n  deleteProduct,\n  clearWishlist\n} = wishlistSlice.actions;\nexport default wishlistSlice.reducer;","map":{"version":3,"names":["createSlice","wishlistSlice","name","initialState","products","quantity","reducers","addProduct","state","action","length","i","payload","_id","push","deleteProduct","splice","clearWishlist","totalPrice","actions","reducer"],"sources":["D:/Work/vinogradnik/client/src/redux/wishlistRedux.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst wishlistSlice = createSlice({\r\n    name: 'wishlist',\r\n    initialState: {\r\n        products: [],\r\n        quantity: 0,\r\n    },\r\n    reducers: {\r\n        addProduct: (state, action) => {\r\n            if (state.products?.length > 0) {\r\n                for (let i = 0; i < state.products.length; i++) {\r\n                    if (state.products[i]['_id'] === action.payload._id) {\r\n                        state.products[i].quantity += action.payload.quantity;\r\n                        return\r\n                    } \r\n                }\r\n                state.quantity += 1;\r\n                state.products.push(action.payload);              \r\n            } else {\r\n                state.quantity += 1;\r\n                state.products.push(action.payload);\r\n            }\r\n        },\r\n        deleteProduct: (state, action) => {\r\n            if (state.products.length > 0) {\r\n                for (let i = 0; i < state.products.length; i++) {\r\n                    if (state.products[i]['_id'] === action.payload._id) {\r\n                        state.products.splice(i, 1);\r\n                        state.quantity -= 1;    \r\n                        return\r\n                    } \r\n                }        \r\n            }\r\n        },\r\n        clearWishlist: (state) => {\r\n            state.products = [];\r\n            state.quantity = 0;\r\n            state.totalPrice = 0;\r\n        }\r\n    },\r\n});\r\n\r\nexport const { addProduct, deleteProduct, clearWishlist } = wishlistSlice.actions;\r\nexport default wishlistSlice.reducer;"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,aAAa,GAAGD,WAAW,CAAC;EAC9BE,IAAI,EAAE,UADwB;EAE9BC,YAAY,EAAE;IACVC,QAAQ,EAAE,EADA;IAEVC,QAAQ,EAAE;EAFA,CAFgB;EAM9BC,QAAQ,EAAE;IACNC,UAAU,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAAA;;MAC3B,IAAI,oBAAAD,KAAK,CAACJ,QAAN,oEAAgBM,MAAhB,IAAyB,CAA7B,EAAgC;QAC5B,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACJ,QAAN,CAAeM,MAAnC,EAA2CC,CAAC,EAA5C,EAAgD;UAC5C,IAAIH,KAAK,CAACJ,QAAN,CAAeO,CAAf,EAAkB,KAAlB,MAA6BF,MAAM,CAACG,OAAP,CAAeC,GAAhD,EAAqD;YACjDL,KAAK,CAACJ,QAAN,CAAeO,CAAf,EAAkBN,QAAlB,IAA8BI,MAAM,CAACG,OAAP,CAAeP,QAA7C;YACA;UACH;QACJ;;QACDG,KAAK,CAACH,QAAN,IAAkB,CAAlB;QACAG,KAAK,CAACJ,QAAN,CAAeU,IAAf,CAAoBL,MAAM,CAACG,OAA3B;MACH,CATD,MASO;QACHJ,KAAK,CAACH,QAAN,IAAkB,CAAlB;QACAG,KAAK,CAACJ,QAAN,CAAeU,IAAf,CAAoBL,MAAM,CAACG,OAA3B;MACH;IACJ,CAfK;IAgBNG,aAAa,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;MAC9B,IAAID,KAAK,CAACJ,QAAN,CAAeM,MAAf,GAAwB,CAA5B,EAA+B;QAC3B,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACJ,QAAN,CAAeM,MAAnC,EAA2CC,CAAC,EAA5C,EAAgD;UAC5C,IAAIH,KAAK,CAACJ,QAAN,CAAeO,CAAf,EAAkB,KAAlB,MAA6BF,MAAM,CAACG,OAAP,CAAeC,GAAhD,EAAqD;YACjDL,KAAK,CAACJ,QAAN,CAAeY,MAAf,CAAsBL,CAAtB,EAAyB,CAAzB;YACAH,KAAK,CAACH,QAAN,IAAkB,CAAlB;YACA;UACH;QACJ;MACJ;IACJ,CA1BK;IA2BNY,aAAa,EAAGT,KAAD,IAAW;MACtBA,KAAK,CAACJ,QAAN,GAAiB,EAAjB;MACAI,KAAK,CAACH,QAAN,GAAiB,CAAjB;MACAG,KAAK,CAACU,UAAN,GAAmB,CAAnB;IACH;EA/BK;AANoB,CAAD,CAAjC;AAyCA,OAAO,MAAM;EAAEX,UAAF;EAAcQ,aAAd;EAA6BE;AAA7B,IAA+ChB,aAAa,CAACkB,OAAnE;AACP,eAAelB,aAAa,CAACmB,OAA7B"},"metadata":{},"sourceType":"module"}